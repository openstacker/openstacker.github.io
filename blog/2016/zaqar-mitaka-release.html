<!DOCTYPE html>
<html lang="en">
  <head>
        <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <title>
        Zaqar Mitaka Release
        | Fei Long Wang
    </title>
        <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
            <link href="/media/css/bootstrap.min.css" rel="stylesheet">
    <link href="/media/css/font-awesome.min.css" rel="stylesheet">
    <link href="/media/css/animate.css" rel="stylesheet">
    <link href="/media/css/style.css" rel="stylesheet">
    <link href="/media/css/style-customized.css" rel="stylesheet">
    <link href="/media/css/pygments.css" rel="stylesheet">
    <link href="/media/css/flag-icon.min.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Open+Sans:400,300" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600,700,900" rel="stylesheet">
    
        
        <link rel="alternate" type="application/rss+xml"
          href="/blog/index.xml" title="flwang:/hacking/blog">
    
        <meta property="og:title" content="Zaqar Mitaka Release">
    <meta property="og:description" content="Zaqar Mitaka Release 是我作为PTL的第一个Release，这恐怕也是我两年多以来参与Zaqar 最投入 的一个Release。Zaqar team的规模并不大，我们只有5个core developer/reviwer, 但在这个 Release中我们完成了很多有价值的工作。这里仅就其中的主要内容做个简单的回顾，也算是我最自己这半年来工作的一个总结。">
    <meta property="og:image" content="https://openstacker.github.io/media/images/blog/2016/photo-road-country.jpg">

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@juldanjou"/>
    <meta name="twitter:image:src" content='https://openstacker.github.io/media/images/blog/2016/photo-road-country.jpg'/>
    <meta name="twitter:title" content="Zaqar Mitaka Release"/>
    <meta name="twitter:domain" content="julien.danjou.info"/>
    <meta name="twitter:description" content="Zaqar Mitaka Release 是我作为PTL的第一个Release，这恐怕也是我两年多以来参与Zaqar 最投入 的一个Release。Zaqar team的规模并不大，我们只有5个core developer/reviwer, 但在这个 Release中我们完成了很多有价值的工作。这里仅就其中的主要内容做个简单的回顾，也算是我最自己这半年来工作的一个总结。"/>
        <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'None', 'auto', {'allowLinker': true});
      ga('send', 'pageview');
    </script>
      </head>
  <body class="archive">
        <!-- HEADER -->
    <header class="header header-dark no-sticky">
      <nav class="navbar container">
	<div class="navbar-header">
          <button class="navbar-toggle collapsed" data-target="#navbar" data-toggle="collapse" type="button">
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	    <span class="icon-bar"></span>
	  </button>
	  <a class="navbar-brand" href="/">
            <img src="/media/images/flwang.jpg"
                 class="img-circle img-thumbnail"
                 alt="Feilong Wang">
            OpenStack 老兵
          </a>
        </div>
	<div id="navbar" class="navbar-collapse collapse">
	  <ul class="nav navbar-nav pull-right">
                                    <li>
              <a href="/about">
                                <span class="glyphicon glyphicon-user"></span>
                                About
              </a>
            </li>
                                    <li class="active">
              <a href="/blog">
                                <span class="glyphicon glyphicon-pencil"></span>
                                Blog
              </a>
            </li>
                                  </ul>
	</div>
      </nav>
    </header>
    <!-- /.header -->

    <!-- WRAPPER -->
    <div class="wrapper">

                  <div class="headcontent headcontent-md bg-sl-center overlay"
           style="background-image: url('/media/images/blog/2016/photo-road-country.jpg');">
	<div class="container inforow">
	  <div class="col-sm-10">
	    <h1 class="white">
                  Zaqar Mitaka Release
                  </h1>
	  </div>
	  <div class="col-sm-2 text-right">
	    <ol class="breadcrumb breadcrumb-arrow">
                                                                      <li>
                <a href="/blog">
                                    <span class="glyphicon glyphicon-pencil"></span>
                                    Blog
                </a>
              </li>
                                                        <li class="active">
                <a href="/blog/2016">
                                    2016
                </a>
              </li>
                            	    </ol>
          </div>
        </div>
      </div>

        <div class="container post">
    <header class="entry-header">
      <div class="meta">
        <small><i class="fa fa-calendar"></i>Friday 19 February 2016</small>
        <small>
          <i class="fa fa-folder"></i>
                      <a href="/blog/tags/Zaqar.html">Zaqar</a>,                      <a href="/blog/tags/OpenStack.html">OpenStack</a>                  </small>
        <!--
        <a href="https://openstacker.github.io/blog/2016/zaqar-mitaka-release#disqus_thread">
          <i class="fa fa-comment"></i> Comments
        </a>
        <span>
          <i class="fa fa-user-plus"></i> Follow Me
        </span>
        <div class="addthis_horizontal_follow_toolbox"
             style="margin-top: -25px;
             margin-left: -25px;">
        </div>
        -->
      </div>
    </header>
    <div class="entry-content padding-bottom">
            <!--
<figure class="pull-right illustration" style="width: 33%;">
  <img src="/media/images/gnocchi-logo.jpg">
</figure>
-->

<p>Zaqar Mitaka Release 是我作为PTL的第一个Release，这恐怕也是我两年多以来参与Zaqar 最投入
的一个Release。Zaqar team的规模并不大，我们只有5个core developer/reviwer, 但在这个
Release中我们完成了很多有价值的工作。这里仅就其中的主要内容做个简单的回顾，也算是我最自己这半年来工作的一个总结。</p>
<h2>文档</h2>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/open-book.png">
</div>

<p>在这个Cycle里，在Eva Balycheva（Eva是个俄罗斯妹子，当时还是一名实习生，现在已经被提名为Zaqar的Core）的帮助下我们完成
了Zaqar的Configuration Reference Guide. 也就是配置参考指南。这是非常重要的一步，因为我个人在Mitaka
的目标之一就是要提高Zaqar的成熟度，向其他DefCore项目看齐。因此进一步完善文档和示例仍然是我们在Newton　Release的主要目标
之一。</p>
<p>See <a>http://docs.openstack.org/mitaka/config-reference/image-service.html</a></p>
<h2>Websocket支持二进制数据传输</h2>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/order.png">
</div>

<p>这是一个工作量不大，但很有value的新feature。在此之前，Zaqar的 websocket传输协议只能传输
文本格式的消息。而通过这个feature, 则可以实现二进制数据传输，从而在一定程度上提升消息传输的性能。</p>
<p>See https://review.openstack.org/#/c/256978/</p>
<h2>更多内建的Queue属性</h2>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/note.png">
</div>

<p>这个feature是我个人希望Zaqar赶超SQS/SNS的一小步。目前虽然Zaqar支持 Queue Metadata，但是
这个metadata只能被用户用，也就是Zaqar本身无法通过这些metadata对queue支持一些特定的功能。
举例来说，现在Zaqar默认的message TTL是3600秒，也就是说如果用户在向队列发送消息时不指定TTL，
那么默认的TTL会取自系统设置的默认TTL，用户无法针对不同的queue定义不同的默认TTL。这个feature
解决的就是这个问题。</p>
<p>See https://review.openstack.org/#/c/265723/</p>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/download.png">
</div>

<h2>Puppet Zaqar</h2>
<p>Puppet Zaqar其实是我在Mitaka release中玩命推动的一件事情，因为我本意是希望在我们自己的公
有云上部署Zaqar，一件两全其美的事情。不过虽然最后成功完成了，但美中不足的是我们的Operation team
决定今后全面转向Ansible，因此也就有了下面的Ansible Zaqar。</p>
<p>See https://github.com/openstack/puppet-zaqar</p>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/download.png">
</div>

<h2>Ansible Zaqar</h2>
<p>Ansible Zaqar的工作正如上面提到的，是因为我们内部的operation team不想再用puppet，所以我不得已
转而推动Ansible 相关的工作。我的同事Kong Ling Xian为Ansible Zaqar的工作付出了大量的心血，在此
表示感谢。</p>
<p>See https://github.com/openstack/openstack-ansible-os_zaqar</p>
<h2>Zaqar UI</h2>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/side-menu.png">
</div>

<p>在几个Horizon哥们的帮助下，我们终于创建了属于Zaqar的Horizon Plugin。在此特别向Horizon team
的Thai Tran, Shu Muto和 David Cusatis表示感谢，虽然我估计他们看不懂中文。目前只支持Queue和
Subscription的相关操作。Pool和Flavor的支持会在Newton Release完成。</p>
<p>See https://github.com/openstack/zaqar-ui</p>
<div class="illustration pull-right icon">
  <img src="/media/images/blog/2016/notification.png">
</div>

<h2>Zaqar Client</h2>
<p>我个人对 Client 和Horizon Plugin非常看中，因为我觉得这两个interface是Zaqar的潜在用户了解
Zaqar的主要方式，但遗憾的是，我们在过去精力主要放在了server端，没有给二者以足够的重视。因此在
Mitaka release, 我们用了整整一个Release的时间，我们终于将客户端的所有功能基本补齐了。</p>          </div>

  </div>


  <div class="addthis_recommended_horizontal"></div>


          </div>
    <!-- /.wrapper -->

    <!-- FOOTER -->
    <footer class="footer footer-dark">
      <div class="container">

	<hr />

	<div class="row">
	  <div class="col-sm-6">
	    <p class="copyright">
              Created by <a href="https://openstacker.github.io">Fei Long Wang</a> using
              <a href="https://github.com/hyde/hyde">Hyde</a>.
              <a href="https://github.com/openstacker/openstacker.github.io">Sources are
                available</a>.
              This work is licensed under a
              <a rel="license"
                 href="//creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative
                Commons Attribution-ShareAlike 3.0 Unported License</a>.
              <br>
              <br>
              <a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/deed.en_US">
                <img alt="Creative Commons License" style="border-width:0"
                     src="/media/images/creative-commons.png">
              </a>
            </p>
	  </div>
	  <div class="col-sm-6 text-right">
	   <img alt="Wechat ID: openstacker" src="/media/images/flwang_wechat.png" style="width:100px; height:100px"/>
	  </div>
	</div>
      </div>
    </footer>
    <!-- /.footer -->

    <!-- ScrollTop -->
    <a href="#" class="scrolltop"><i></i></a>

    
          <!-- SCRIPTS -->
    <script src="/media/js/jquery-2.1.3.min.js"></script>
    <script src="/media/js/bootstrap.min.js"></script>
    <script src="/media/js/plugins.js"></script>
    <script src="/media/js/custom.js"></script>
    <script src="/media/js/bootstrap-tab-bookmark.js"></script>

    <script type="text/javascript">
	var $mcGoal = {'settings':{'uuid':'53ceb9eb499d62f6ee37c8167','dc':'us7'}};
	(function() {
		 var sp = document.createElement('script'); sp.type = 'text/javascript'; sp.async = true; sp.defer = true;
		sp.src = ('https:' == document.location.protocol ? 'https://s3.amazonaws.com/downloads.mailchimp.com' : 'http://downloads.mailchimp.com') + '/js/goal.min.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(sp, s);
	})();
    </script>

    

  <script type="text/javascript"
          src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4eaacbb674bf94f0"
          async="async">
  </script>

  <script type="text/javascript">
    var disqus_shortname = 'flwang';

    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = '//' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
  </script>

  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  </body>
</html>